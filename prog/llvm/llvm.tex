\secrel{LLVM и разработка собственных компиляторов}\secdown

\secrel{Установка под \win}

\menu{\winr>\url{http://llvm.org/}>Download>\href{http://llvm.org/releases/download.html\#3.2}{LLVM
3.2}>\href{http://llvm.org/releases/3.2/clang+llvm-3.2-x86-mingw32-EXPERIMENTAL.tar.gz}{Experimental
Clang Binaries for Mingw32/x86}}

\bigskip
Распакуйте \file{clang+llvm-3.2-x86-mingw32-EXPERIMENTAL.tar.gz}, переименовав в
\file{C:/LLMV}, 

добавьте \file{C:/LLMV/bin} в \file{PATH}. 

\secrel{Создание компилятора с помощью инфраструктуры LLVM}

\cp{http://www.ibm.com/developerworks/ru/library/os-createcompilerllvm1/}
\copyright\ IBM

\cp{http://habrahabr.ru/post/47878/}

\bigskip
Инфраструктура LLVM\note{[L]ow [L]evel [V]irtual [M]achine, низкоуровневая
виртуальная машина}\ предоставляет мощные возможности для создания оптимизирущих
компиляторов вне зависимости от используемого языка программирования.
Это весьма мощная инфраструктура компилятора, предназначенная для оптимизации
программ, написанных на предпочтительном для разработчика языке
программирования, на этапах компиляции, связывания и исполнения. Инфраструктура
LLVM работает на нескольких разных платформах. Ее основное достоинство\ ---
генерация кода, который исполняется с высокой скоростью.

В основе инфраструктуры LLVM лежит хорошо документированное
\termdef{промежуточное представление}{промежуточное
представление}\note{intermediate representation, IR}\ программного кода.
При наличии кодогенератора LLVM IR разработчику достаточно иметь т.н.
\termdef{фронтенд}{фронтенд компилятора} для своего языка программирования,
чтобы получить полную систему \term{парсер} (\termdef{фронтенд}) + генератор
IR-кода + LLVM-\termdef{бэкенд}{бэкенд компилятора}). Таким образом, построение
собственного компилятора существенно упростилось.

Для разработчика компилятора важны две ключевые особенности LLVM:

\begin{enumerate}
  \item LLVM содержит собственную батарею оптимизаторов, разрабатываемую и
  поддерживаемую большим сообществом компиляторщиков-суперпрофессионалов;
  \item поддерживается генерация машинного кода для множества целевых
  архитектур, поэтому создание своего кодогенератора не нужно.
\end{enumerate}

\secrel{Инструменты \prog{llc} и \prog{lli}}

LLVM\ --- это виртуальная машина и, как таковая, она имеет собственное
представление программы в виде промежуточного байт-кода. В конечном итоге нам
необходимо скомпилировать байт-код LLVM в код на языке ассемблера для своей
конкретной платформы. После этого мы сможем запустить этот код с помощью
нативных ассемблера и компоновщика для этой платформы с целью генерации
исполняемого кода, разделяемых библиотек и т. д. Для преобразования байт-кода
LLVM в код на языке ассемблера для конкретной платформы применяется инструмент
\prog{llc}.

Возможность непосредственного исполнения порций байт-кода LLVM избавляет нас от
необходимости дожидаться сбоев нативного исполняемого кода, чтобы найти ошибки в
своей программе. Именно здесь оказывается полезным инструмент \prog{lli},
поскольку он способен непосредственно исполнять байт-код (с помощью
интерпретатора).

\secrel{Семантический анализ}

\begin{framed}\noindent
\termdef{Семантический анализ}{семантический анализ}\ --- процесс выполнения
\term{семантических проверок}: контроль типов, привязка объектов и т.д. 
\end{framed}

\secrel{Оптимизация}

Выполнение формальных преобразований структур данных, описываютщих
компилируюемую программу, с целью построения более компактного/быстрого
машинного кода.

\secrel{Кодогенерация}

Получение реального машинного кода в бинарном представлении, или в виде
ассемблерных текстовых файлов.

\secrel{Транслятор Паскаля}

\secup
